{"id":31569,"date":"2015-10-19T15:42:26","date_gmt":"2015-10-19T22:42:26","guid":{"rendered":"https:\/\/coertvonk.com\/?p=31569"},"modified":"2022-04-27T18:03:40","modified_gmt":"2022-04-28T01:03:40","slug":"signal-path","status":"publish","type":"post","link":"http:\/\/coertvonk.com\/sw\/arduino\/pitch-detector\/signal-path-31569","title":{"rendered":"Signal path"},"content":{"rendered":"<p>\r\n    Describes the signal path for pitch detection on Arduino. Starting with the instrument sound and ending with the sound produced by a MIDI synthesizer, possibly driven by auto-accompaniment software. Part of the project <a href=\"\/category\/sw\/pitch-detector\">Arduino Pitch Detector<\/a>.\\(\\)\r\n<\/p>\r\n<p>\r\n    This is the second  part of the article about the <a href=\"https:\/\/coertvonk.com\/category\/sw\/pitch-detector\">Arduino Pitch Detector<\/a>. It describes the signal path starting with the instrument sound and ending with the sound produced by a MIDI synthesizer, possibly driven by auto-accompaniment software.\r\n<\/p>\r\n\r\n<h2>\r\n    Signal path\r\n<\/h2>\r\n<p>\r\n    In the prototype, the signal passes from a music instrument and is played as MIDI events on an external synthesizer. Various hardware and software components make up the signal path. This page gives a brief description of each of these components.\r\n\r\n    <img  title=\"\" class=\"alignright wp-image-14721\" src=\"https:\/\/coertvonk.com\/wp-content\/uploads\/pitch-signalpath-1.jpg\" alt=\"Pitch detector signal path\" width=\"191\" srcset=\"https:\/\/coertvonk.com\/wp-content\/uploads\/pitch-signalpath-1.jpg 800w, https:\/\/coertvonk.com\/wp-content\/uploads\/pitch-signalpath-1-172x400.jpg 172w, https:\/\/coertvonk.com\/wp-content\/uploads\/pitch-signalpath-1-768x1786.jpg 768w, https:\/\/coertvonk.com\/wp-content\/uploads\/pitch-signalpath-1-440x1024.jpg 440w, https:\/\/coertvonk.com\/wp-content\/uploads\/pitch-signalpath-1-108x250.jpg 108w, https:\/\/coertvonk.com\/wp-content\/uploads\/pitch-signalpath-1-129x300.jpg 129w, https:\/\/coertvonk.com\/wp-content\/uploads\/pitch-signalpath-1-151x350.jpg 151w, https:\/\/coertvonk.com\/wp-content\/uploads\/pitch-signalpath-1-215x500.jpg 215w, https:\/\/coertvonk.com\/wp-content\/uploads\/pitch-signalpath-1-323x750.jpg 323w\" sizes=\"(max-width: 706px) 89vw, (max-width: 767px) 82vw, 740px\" \/>\r\n\r\n    <ol>\r\n        <li>\r\n            Musical instrument. Playing a clarinet, pan flute or piano.\r\n        <\/li>\r\n        <li>\r\n            Microphone with automatic gain control.\r\n        <\/li>\r\n        <li>\r\n            The microcontroller is responsible for:\r\n\r\n            <ol style=\"list-style-type: lower-alpha;\">\r\n                <li><a href=\"https:\/\/coertvonk.com\/sw\/arduino\/pitch-detector\/digitizing-the-analog-signal-31573\">Digitizing the analog signal<\/a> (<code>microphone.cpp<\/code>).<\/li>\r\n                <li><a href=\"https:\/\/coertvonk.com\/sw\/arduino\/pitch-detector\/frequency-and-pitch-detection-31575\">Detecting the fundamental frequency and pitch of the signal<\/a> (<code>pitch.cpp<\/code>).<\/li>\r\n                <li><a href=\"https:\/\/coertvonk.com\/sw\/arduino\/pitch-detector\/note-level-segmentation-and-buffering-31577\">Determining the beginning and duration of the notes<\/a>. (<code>segment.cpp<\/code>, <code>segmentbuf.cpp<\/code> )<\/li>\r\n                <li><a href=\"https:\/\/coertvonk.com\/sw\/arduino\/pitch-detector\/visualizing-the-notes-31579\">Displaying the notes on a tremble staff or piano roll<\/a>. (<code>pianoroll.cpp<\/code>, <code>staff.cpp<\/code>)<\/li>\r\n                <li><a href=\"https:\/\/coertvonk.com\/sw\/arduino\/pitch-detector\/sending-midi-events-31581\">Sending MIDI events to an attached synthesizer<\/a>. (<code>midiout.cpp<\/code>).<\/li>\r\n            <\/ol>\r\n        <\/li>\r\n        <li>\r\n            An external synthesizer interprets the MIDI messages to create sound. The MIDI signal can also be sent to auto-accompaniment software (e.g. Band-in-a-Box) or Notation software (e.g. MidiEditor).\r\n        <\/li>\r\n    <\/ol>\r\n<\/p>\r\n<p>\r\n    To test the MIDI functionality of the Arduino, it needs to be connected to a synthesizer. A synthesizer interprets MIDI messages to create sound. Synthesizers to range from all-in-one hardware synthesizers, to software synthesizers (Cool Virtual Midi, Nano, GarageBand).<img class=\"alignright\" src=\"https:\/\/learningworksforkids.com\/wp-content\/uploads\/garageband-110310-2.png\" alt=\"from http:\/\/learningworksforkids.com\/apps\/garage-band\/\" width=\"224\" \/>\r\n<\/p>\r\n<p>\r\n    A synthesizer interprets MIDI messages to create sound. There are many synthesizers to choose from:\r\n\r\n    <ol>\r\n        <li>\r\n            Hardware. I found an old SynthStation25 in our garage and use that with an old iTouch running the Nano app.\r\n        <\/li>\r\n        <li>\r\n            Microsoft Windows comes with a &#8220;Microsoft GS Wavetable Synth&#8221;. It has horrible latency and sounds bad.\r\n            <ul>\r\n                <li>\r\n                    Alternatives are <a href=\"http:\/\/coolsoft.altervista.org\/en\/virtualmidisynth\">Cool Virtual Midi<\/a>, <a href=\"http:\/\/www.synthfont.com\/Downloads.html\">SyFonOne<\/a>, and  <a href=\"http:\/\/www.cakewalk.com\/products\/sfz\/\">SFZ+<\/a> () with ASIO4All\r\n                <\/li>\r\n                <li>\r\n                    All require a virtual instrument file (SoundFount) such as FluidR3\r\n                    <ul>\r\n                            <li><a href=\"http:\/\/www.synthfont.com\/soundfonts.html\">FluidR3<\/a> () compressed as sfArk.<\/li>\r\n                            <li><a href=\"https:\/\/midkar.com\/soundfonts\/\">Timbres Of Heaven<\/a> compressed as 7z.<\/li>\r\n                    <\/ul>\r\n                <\/li>\r\n            <\/ul>\r\n        <\/li>\r\n        <li>\r\n            I ended up using, and iPad with Garage Band. The messages can be carried over USB (requires the Apple iPad Camera Connection Kit) or over possibly over the network (AppleMIDI). When using USB, connect the USB cable first, and then plug the adapter into the iPad. For the connector, refer to the corresponding section above.\r\n        <\/li>\r\n    <\/ol>\r\n<\/p>\r\n<p>\r\n    <div class=\"continue-container no-print\">\r\n        <div class=\"continue-content\">\r\n            <div class=\"continue-text\">\r\n                Continue reading to learn about the <a href=\"https:\/\/coertvonk.com\/sw\/arduino\/pitch-detector\/toolchain-31571\">Software tools used<\/a>.\r\n        <\/div>\r\n    <\/div>    \r\n<\/p>\r\n\r\n","protected":false},"excerpt":{"rendered":"Describes the signal path for pitch detection on Arduino. From instrument sound and ending with the sound produced by a MIDI synthesizer.","protected":false},"author":41,"featured_media":18417,"comment_status":"open","ping_status":"closed","sticky":false,"template":"","format":"standard","meta":{"inline_featured_image":false,"_mi_skip_tracking":false},"categories":[433],"tags":[],"yoast_head":"<!-- This site is optimized with the Yoast SEO plugin v18.6 - https:\/\/yoast.com\/wordpress\/plugins\/seo\/ -->\n<title>Signal path for pitch detection on Arduino - Johan Vonk<\/title>\n<meta name=\"description\" content=\"Describes the signal path for pitch detection on Arduino. From instrument sound and ending with the sound produced by a MIDI synthesizer.\" \/>\n<meta name=\"robots\" content=\"index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1\" \/>\n<link rel=\"canonical\" href=\"https:\/\/coertvonk.com\/sw\/arduino\/pitch-detector\/signal-path-31569\" \/>\n<meta property=\"og:locale\" content=\"en_US\" \/>\n<meta property=\"og:type\" content=\"article\" \/>\n<meta property=\"og:title\" content=\"Signal path for pitch detection on Arduino - Johan Vonk\" \/>\n<meta property=\"og:description\" content=\"Describes the signal path for pitch detection on Arduino. From instrument sound and ending with the sound produced by a MIDI synthesizer.\" \/>\n<meta property=\"og:url\" content=\"https:\/\/coertvonk.com\/sw\/arduino\/pitch-detector\/signal-path-31569\" \/>\n<meta property=\"og:site_name\" content=\"Coert Vonk\" \/>\n<meta property=\"article:published_time\" content=\"2015-10-19T22:42:26+00:00\" \/>\n<meta property=\"article:modified_time\" content=\"2022-04-28T01:03:40+00:00\" \/>\n<meta property=\"og:image\" content=\"https:\/\/coertvonk.com\/wp-content\/uploads\/johan-pitch-detector-logo4.png\" \/>\n\t<meta property=\"og:image:width\" content=\"300\" \/>\n\t<meta property=\"og:image:height\" content=\"300\" \/>\n\t<meta property=\"og:image:type\" content=\"image\/png\" \/>\n<meta name=\"twitter:card\" content=\"summary\" \/>\n<meta name=\"twitter:label1\" content=\"Written by\" \/>\n\t<meta name=\"twitter:data1\" content=\"Coert Vonk\" \/>\n\t<meta name=\"twitter:label2\" content=\"Est. reading time\" \/>\n\t<meta name=\"twitter:data2\" content=\"2 minutes\" \/>\n<script type=\"application\/ld+json\" class=\"yoast-schema-graph\">{\"@context\":\"https:\/\/schema.org\",\"@graph\":[{\"@type\":\"WebSite\",\"@id\":\"https:\/\/coertvonk.com\/#website\",\"url\":\"https:\/\/coertvonk.com\/\",\"name\":\"Coert Vonk\",\"description\":\"Embedded Software Engineer\",\"publisher\":{\"@id\":\"https:\/\/coertvonk.com\/#\/schema\/person\/5eeda746b43b88312a0621fdc226c70e\"},\"potentialAction\":[{\"@type\":\"SearchAction\",\"target\":{\"@type\":\"EntryPoint\",\"urlTemplate\":\"https:\/\/coertvonk.com\/?s={search_term_string}\"},\"query-input\":\"required name=search_term_string\"}],\"inLanguage\":\"en-US\"},{\"@type\":\"ImageObject\",\"@id\":\"https:\/\/coertvonk.com\/sw\/arduino\/pitch-detector\/signal-path-31569#primaryimage\",\"inLanguage\":\"en-US\",\"url\":\"https:\/\/coertvonk.com\/wp-content\/uploads\/johan-pitch-detector-logo4.png\",\"contentUrl\":\"https:\/\/coertvonk.com\/wp-content\/uploads\/johan-pitch-detector-logo4.png\",\"width\":300,\"height\":300},{\"@type\":\"WebPage\",\"@id\":\"https:\/\/coertvonk.com\/sw\/arduino\/pitch-detector\/signal-path-31569#webpage\",\"url\":\"https:\/\/coertvonk.com\/sw\/arduino\/pitch-detector\/signal-path-31569\",\"name\":\"Signal path for pitch detection on Arduino - Johan Vonk\",\"isPartOf\":{\"@id\":\"https:\/\/coertvonk.com\/#website\"},\"primaryImageOfPage\":{\"@id\":\"https:\/\/coertvonk.com\/sw\/arduino\/pitch-detector\/signal-path-31569#primaryimage\"},\"datePublished\":\"2015-10-19T22:42:26+00:00\",\"dateModified\":\"2022-04-28T01:03:40+00:00\",\"description\":\"Describes the signal path for pitch detection on Arduino. From instrument sound and ending with the sound produced by a MIDI synthesizer.\",\"breadcrumb\":{\"@id\":\"https:\/\/coertvonk.com\/sw\/arduino\/pitch-detector\/signal-path-31569#breadcrumb\"},\"inLanguage\":\"en-US\",\"potentialAction\":[{\"@type\":\"ReadAction\",\"target\":[\"https:\/\/coertvonk.com\/sw\/arduino\/pitch-detector\/signal-path-31569\"]}]},{\"@type\":\"BreadcrumbList\",\"@id\":\"https:\/\/coertvonk.com\/sw\/arduino\/pitch-detector\/signal-path-31569#breadcrumb\",\"itemListElement\":[{\"@type\":\"ListItem\",\"position\":1,\"name\":\"Vonk Family\",\"item\":\"https:\/\/coertvonk.com\/\"},{\"@type\":\"ListItem\",\"position\":2,\"name\":\"Software\",\"item\":\"https:\/\/coertvonk.com\/category\/sw\"},{\"@type\":\"ListItem\",\"position\":3,\"name\":\"Arduino\",\"item\":\"https:\/\/coertvonk.com\/category\/sw\/arduino\"},{\"@type\":\"ListItem\",\"position\":4,\"name\":\"Pitch detection\",\"item\":\"https:\/\/coertvonk.com\/category\/sw\/arduino\/pitch-detector\"},{\"@type\":\"ListItem\",\"position\":5,\"name\":\"Signal path\"}]},{\"@type\":\"Article\",\"@id\":\"https:\/\/coertvonk.com\/sw\/arduino\/pitch-detector\/signal-path-31569#article\",\"isPartOf\":{\"@id\":\"https:\/\/coertvonk.com\/sw\/arduino\/pitch-detector\/signal-path-31569#webpage\"},\"author\":{\"@id\":\"https:\/\/coertvonk.com\/#\/schema\/person\/5eeda746b43b88312a0621fdc226c70e\"},\"headline\":\"Signal path\",\"datePublished\":\"2015-10-19T22:42:26+00:00\",\"dateModified\":\"2022-04-28T01:03:40+00:00\",\"mainEntityOfPage\":{\"@id\":\"https:\/\/coertvonk.com\/sw\/arduino\/pitch-detector\/signal-path-31569#webpage\"},\"wordCount\":392,\"commentCount\":0,\"publisher\":{\"@id\":\"https:\/\/coertvonk.com\/#\/schema\/person\/5eeda746b43b88312a0621fdc226c70e\"},\"image\":{\"@id\":\"https:\/\/coertvonk.com\/sw\/arduino\/pitch-detector\/signal-path-31569#primaryimage\"},\"thumbnailUrl\":\"https:\/\/coertvonk.com\/wp-content\/uploads\/johan-pitch-detector-logo4.png\",\"articleSection\":[\"Pitch detection\"],\"inLanguage\":\"en-US\"},{\"@type\":[\"Person\",\"Organization\"],\"@id\":\"https:\/\/coertvonk.com\/#\/schema\/person\/5eeda746b43b88312a0621fdc226c70e\",\"name\":\"Coert Vonk\",\"image\":{\"@type\":\"ImageObject\",\"@id\":\"https:\/\/coertvonk.com\/#personlogo\",\"inLanguage\":\"en-US\",\"url\":\"http:\/\/1.gravatar.com\/avatar\/193315b96c6661985694e2ecd91f2996?s=96&d=mm&r=g\",\"contentUrl\":\"http:\/\/1.gravatar.com\/avatar\/193315b96c6661985694e2ecd91f2996?s=96&d=mm&r=g\",\"caption\":\"Coert Vonk\"},\"logo\":{\"@id\":\"https:\/\/coertvonk.com\/#personlogo\"},\"description\":\"Passionately curious and stubbornly persistent. Enjoys to inspire and consult with others to exchange the poetry of logical ideas.\",\"sameAs\":[\"https:\/\/coertvonk.com\"],\"url\":\"http:\/\/coertvonk.com\/author\/cvonk\"}]}<\/script>\n<!-- \/ Yoast SEO plugin. -->","yoast_head_json":{"title":"Signal path for pitch detection on Arduino - Johan Vonk","description":"Describes the signal path for pitch detection on Arduino. From instrument sound and ending with the sound produced by a MIDI synthesizer.","robots":{"index":"index","follow":"follow","max-snippet":"max-snippet:-1","max-image-preview":"max-image-preview:large","max-video-preview":"max-video-preview:-1"},"canonical":"https:\/\/coertvonk.com\/sw\/arduino\/pitch-detector\/signal-path-31569","og_locale":"en_US","og_type":"article","og_title":"Signal path for pitch detection on Arduino - Johan Vonk","og_description":"Describes the signal path for pitch detection on Arduino. From instrument sound and ending with the sound produced by a MIDI synthesizer.","og_url":"https:\/\/coertvonk.com\/sw\/arduino\/pitch-detector\/signal-path-31569","og_site_name":"Coert Vonk","article_published_time":"2015-10-19T22:42:26+00:00","article_modified_time":"2022-04-28T01:03:40+00:00","og_image":[{"width":300,"height":300,"url":"https:\/\/coertvonk.com\/wp-content\/uploads\/johan-pitch-detector-logo4.png","type":"image\/png"}],"twitter_card":"summary","twitter_misc":{"Written by":"Coert Vonk","Est. reading time":"2 minutes"},"schema":{"@context":"https:\/\/schema.org","@graph":[{"@type":"WebSite","@id":"https:\/\/coertvonk.com\/#website","url":"https:\/\/coertvonk.com\/","name":"Coert Vonk","description":"Embedded Software Engineer","publisher":{"@id":"https:\/\/coertvonk.com\/#\/schema\/person\/5eeda746b43b88312a0621fdc226c70e"},"potentialAction":[{"@type":"SearchAction","target":{"@type":"EntryPoint","urlTemplate":"https:\/\/coertvonk.com\/?s={search_term_string}"},"query-input":"required name=search_term_string"}],"inLanguage":"en-US"},{"@type":"ImageObject","@id":"https:\/\/coertvonk.com\/sw\/arduino\/pitch-detector\/signal-path-31569#primaryimage","inLanguage":"en-US","url":"https:\/\/coertvonk.com\/wp-content\/uploads\/johan-pitch-detector-logo4.png","contentUrl":"https:\/\/coertvonk.com\/wp-content\/uploads\/johan-pitch-detector-logo4.png","width":300,"height":300},{"@type":"WebPage","@id":"https:\/\/coertvonk.com\/sw\/arduino\/pitch-detector\/signal-path-31569#webpage","url":"https:\/\/coertvonk.com\/sw\/arduino\/pitch-detector\/signal-path-31569","name":"Signal path for pitch detection on Arduino - Johan Vonk","isPartOf":{"@id":"https:\/\/coertvonk.com\/#website"},"primaryImageOfPage":{"@id":"https:\/\/coertvonk.com\/sw\/arduino\/pitch-detector\/signal-path-31569#primaryimage"},"datePublished":"2015-10-19T22:42:26+00:00","dateModified":"2022-04-28T01:03:40+00:00","description":"Describes the signal path for pitch detection on Arduino. From instrument sound and ending with the sound produced by a MIDI synthesizer.","breadcrumb":{"@id":"https:\/\/coertvonk.com\/sw\/arduino\/pitch-detector\/signal-path-31569#breadcrumb"},"inLanguage":"en-US","potentialAction":[{"@type":"ReadAction","target":["https:\/\/coertvonk.com\/sw\/arduino\/pitch-detector\/signal-path-31569"]}]},{"@type":"BreadcrumbList","@id":"https:\/\/coertvonk.com\/sw\/arduino\/pitch-detector\/signal-path-31569#breadcrumb","itemListElement":[{"@type":"ListItem","position":1,"name":"Vonk Family","item":"https:\/\/coertvonk.com\/"},{"@type":"ListItem","position":2,"name":"Software","item":"https:\/\/coertvonk.com\/category\/sw"},{"@type":"ListItem","position":3,"name":"Arduino","item":"https:\/\/coertvonk.com\/category\/sw\/arduino"},{"@type":"ListItem","position":4,"name":"Pitch detection","item":"https:\/\/coertvonk.com\/category\/sw\/arduino\/pitch-detector"},{"@type":"ListItem","position":5,"name":"Signal path"}]},{"@type":"Article","@id":"https:\/\/coertvonk.com\/sw\/arduino\/pitch-detector\/signal-path-31569#article","isPartOf":{"@id":"https:\/\/coertvonk.com\/sw\/arduino\/pitch-detector\/signal-path-31569#webpage"},"author":{"@id":"https:\/\/coertvonk.com\/#\/schema\/person\/5eeda746b43b88312a0621fdc226c70e"},"headline":"Signal path","datePublished":"2015-10-19T22:42:26+00:00","dateModified":"2022-04-28T01:03:40+00:00","mainEntityOfPage":{"@id":"https:\/\/coertvonk.com\/sw\/arduino\/pitch-detector\/signal-path-31569#webpage"},"wordCount":392,"commentCount":0,"publisher":{"@id":"https:\/\/coertvonk.com\/#\/schema\/person\/5eeda746b43b88312a0621fdc226c70e"},"image":{"@id":"https:\/\/coertvonk.com\/sw\/arduino\/pitch-detector\/signal-path-31569#primaryimage"},"thumbnailUrl":"https:\/\/coertvonk.com\/wp-content\/uploads\/johan-pitch-detector-logo4.png","articleSection":["Pitch detection"],"inLanguage":"en-US"},{"@type":["Person","Organization"],"@id":"https:\/\/coertvonk.com\/#\/schema\/person\/5eeda746b43b88312a0621fdc226c70e","name":"Coert Vonk","image":{"@type":"ImageObject","@id":"https:\/\/coertvonk.com\/#personlogo","inLanguage":"en-US","url":"http:\/\/1.gravatar.com\/avatar\/193315b96c6661985694e2ecd91f2996?s=96&d=mm&r=g","contentUrl":"http:\/\/1.gravatar.com\/avatar\/193315b96c6661985694e2ecd91f2996?s=96&d=mm&r=g","caption":"Coert Vonk"},"logo":{"@id":"https:\/\/coertvonk.com\/#personlogo"},"description":"Passionately curious and stubbornly persistent. Enjoys to inspire and consult with others to exchange the poetry of logical ideas.","sameAs":["https:\/\/coertvonk.com"],"url":"http:\/\/coertvonk.com\/author\/cvonk"}]}},"_links":{"self":[{"href":"http:\/\/coertvonk.com\/wp-json\/wp\/v2\/posts\/31569"}],"collection":[{"href":"http:\/\/coertvonk.com\/wp-json\/wp\/v2\/posts"}],"about":[{"href":"http:\/\/coertvonk.com\/wp-json\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"http:\/\/coertvonk.com\/wp-json\/wp\/v2\/users\/41"}],"replies":[{"embeddable":true,"href":"http:\/\/coertvonk.com\/wp-json\/wp\/v2\/comments?post=31569"}],"version-history":[{"count":10,"href":"http:\/\/coertvonk.com\/wp-json\/wp\/v2\/posts\/31569\/revisions"}],"predecessor-version":[{"id":32783,"href":"http:\/\/coertvonk.com\/wp-json\/wp\/v2\/posts\/31569\/revisions\/32783"}],"wp:featuredmedia":[{"embeddable":true,"href":"http:\/\/coertvonk.com\/wp-json\/wp\/v2\/media\/18417"}],"wp:attachment":[{"href":"http:\/\/coertvonk.com\/wp-json\/wp\/v2\/media?parent=31569"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"http:\/\/coertvonk.com\/wp-json\/wp\/v2\/categories?post=31569"},{"taxonomy":"post_tag","embeddable":true,"href":"http:\/\/coertvonk.com\/wp-json\/wp\/v2\/tags?post=31569"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}